
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Currency & Unit Converter</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --bg-light: #f4f4f4;
      --text-light: #222;
      --container-light: #fff;
      --bg-dark: #121212;
      --text-dark: #eee;
      --container-dark: #1e1e1e;
      --primary: #007bff;
      --primary-hover: #0056b3;
      --black: #000;
      --white: #fff;
    }
    html[data-theme='light'] { background-color: var(--bg-light); color: var(--text-light); }
    html[data-theme='dark'] { background-color: var(--bg-dark); color: var(--text-dark); }
    body {
      margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex; justify-content: center; align-items: center;
      padding: 40px 10px; min-height: 100vh;
    }
    .container {
      background-color: var(--container-light);
      padding: 25px; border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
      width: 100%; max-width: 520px;
      transition: background-color 0.3s;
    }
    html[data-theme='dark'] .container { background-color: var(--container-dark); }
    h1 { text-align: center; margin-bottom: 20px; font-size: 1.7rem; }
    select, input, button {
      width: 100%; padding: 12px; margin-top: 10px;
      border-radius: 6px; border: 1px solid #ccc; font-size: 1rem;
    }
    button {
      background-color: var(--primary); color: white;
      border: none; cursor: pointer; margin-top: 15px; font-weight: 600;
      transition: all 0.3s ease;
    }
    button:hover { background-color: var(--primary-hover); transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,123,255,0.3); }
    .tabs { display: flex; justify-content: center; margin-bottom: 15px; }
    .tab-btn {
      flex: 1; padding: 10px; border: none;
      background: var(--primary); color: white; font-weight: bold;
      cursor: pointer; border-radius: 8px 8px 0 0;
    }
    .tab-btn.inactive { background: #ccc; color: #000; }
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    #converted-result, #unit-result { margin-top: 15px; font-weight: bold; text-align: center; font-size: 1.2rem; }
    .footer { text-align: center; margin-top: 20px; font-size: 0.85rem; color: gray; }
  </style>
</head>
<body>
<div class="container">
  <div class="toggle-switch">
    <label><input type="checkbox" id="theme-toggle" /> ðŸŒ™ Toggle Dark Mode</label>
  </div>

  <div class="tabs">
    <button class="tab-btn" onclick="showTab('currency')" id="currency-tab">Currency Conversion</button>
    <button class="tab-btn inactive" onclick="showTab('unit')" id="unit-tab">Unit Conversion</button>
  </div>

  <div id="currency" class="tab-content active">
    <h1>Currency Converter</h1>
    <input type="number" id="amount" placeholder="Enter amount" />
    <select id="from-currency"></select>
    <button onclick="swapCurrencies()">ðŸ”„ Swap</button>
    <select id="to-currency"></select>
    <button onclick="convertCurrency()">Convert</button>
    <div id="converted-result"></div>
    <div id="chart-container"><canvas id="trendChart" height="200"></canvas></div>
    <div class="footer">Powered by exchangerate.host</div>
  </div>

  <div id="unit" class="tab-content">
    <h1>Unit Converter</h1>
    <select id="unit-category" onchange="loadUnits()"></select>
    <input type="number" id="unit-value" placeholder="Enter value" />
    <select id="unit-from"></select>
    <select id="unit-to"></select>
    <button onclick="convertUnit()">Convert</button>
    <div id="unit-result"></div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/gh/ashikjs/unitlogic/unitlogic.min.js"></script>
<script>
function showTab(tab) {
  document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.add('inactive'));
  document.getElementById(`${tab}-tab`).classList.remove('inactive');
  document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
  document.getElementById(tab).classList.add('active');
}

document.getElementById('theme-toggle').addEventListener('change', e => {
  document.documentElement.setAttribute('data-theme', e.target.checked ? 'dark' : 'light');
});

// Simulated fromCurrency/toCurrency options (for brevity)
document.getElementById('from-currency').innerHTML = '<option value="USD">USD</option><option value="EUR">EUR</option>';
document.getElementById('to-currency').innerHTML = '<option value="INR">INR</option><option value="GBP">GBP</option>';
function swapCurrencies() {
  const from = document.getElementById('from-currency');
  const to = document.getElementById('to-currency');
  const temp = from.value;
  from.value = to.value;
  to.value = temp;
}
function convertCurrency() {
  document.getElementById('converted-result').textContent = 'Mock Conversion Result';
}

// Load unit categories and populate dropdowns
const unitLogic = window.unitLogic; // Loaded externally for brevity
const unitCategory = document.getElementById('unit-category');
const unitFrom = document.getElementById('unit-from');
const unitTo = document.getElementById('unit-to');

function loadUnits() {
  const cat = unitCategory.value;
  const units = Object.keys(unitLogic[cat].ratios);
  unitFrom.innerHTML = unitTo.innerHTML = '';
  units.forEach(unit => {
    const opt1 = new Option(unit, unit);
    const opt2 = new Option(unit, unit);
    unitFrom.appendChild(opt1);
    unitTo.appendChild(opt2);
  });
}

// Populate categories
Object.keys(unitLogic).forEach(category => {
  unitCategory.appendChild(new Option(category, category));
});
unitCategory.value = 'length';
loadUnits();

function convertUnit() {
  const category = unitCategory.value;
  const from = unitFrom.value;
  const to = unitTo.value;
  const value = parseFloat(document.getElementById('unit-value').value);
  const result = unitLogic[category].convert(from, to, value);
  document.getElementById('unit-result').textContent = `${value} ${from} = ${result} ${to}`;
}
</script>
</body>
</html>
